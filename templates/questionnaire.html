<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valora Music - Questionnaire</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-black text-light">

    <canvas id="snowCanvas"></canvas>

    <div class="valora-logo">Valora</div>
    <a href="{{ url_for('logout') }}" class="logout-button">Log Out</a>

    <div class="main-content d-flex flex-column justify-content-center align-items-center min-vh-100 text-center p-4 position-relative z-1">
        
        <div id="questionnaire-wrapper" class="w-100" style="max-width: 800px;">

            <div id="panas-area">
                
                <h2 class="question-title animate-text fw-bold mb-3">Please tell me how are you feeling today</h2>

                <p class="lead mb-2 mt-4">Indicate to what extent you feel this way right now.</p>
                <div class="indication-box mb-4">
                    (1 = Not at all, 5 = Extremely)
                </div>
                
                <div class="progress-container w-100 mb-3">
                    <div id="progress-indicator" class="progress-text mb-1">0 / 20</div>
                    <progress id="progress-bar" class="w-100" value="0" max="20"></progress>
                    <div id="special-message" class="special-message mt-2"></div>
                </div>
                
                <div id="question-display" class="display-5 fw-bold my-4">Loading question...</div>
                
                <div id="rating-numbers" class="rating-numbers-container">
                    <div class="rating-number" data-value="1">1</div>
                    <div class="rating-number" data-value="2">2</div>
                    <div class="rating-number" data-value="3">3</div>
                    <div class="rating-number" data-value="4">4</div>
                    <div class="rating-number" data-value="5">5</div>
                </div>
                
                <button id="next-to-sam-btn" class="btn btn-valora-submit btn-lg rounded-pill fw-bold mt-5" style="display: none;">
                    Next
                </button>
        
            </div>
        
            <div id="valence-page" style="display: none;">
                <fieldset class="sam-question">
                    <legend class="question-title fw-bold mb-3">Which picture best describes how you feel?</legend>
                    <p class="lead mb-4">Please select the point on the scale that best matches your feeling.</p>
                    
                    <div class="sam-image-grid">
                        <div class="sam-image-item" style="grid-column: 1;">
                            <span class="sam-image-label">Very Sad</span>
                            <img src="{{ url_for('static', filename='sam_images/v1.png') }}" alt="Very Unhappy">
                        </div>
                        <div class="sam-image-item" style="grid-column: 3;">
                            <span class="sam-image-label">Sad</span>
                            <img src="{{ url_for('static', filename='sam_images/v2.png') }}" alt="Unhappy">
                        </div>
                        <div class="sam-image-item" style="grid-column: 5;">
                            <span class="sam-image-label">Neutral</span>
                            <img src="{{ url_for('static', filename='sam_images/v3.png') }}" alt="Neutral">
                        </div>
                        <div class="sam-image-item" style="grid-column: 7;">
                            <span class="sam-image-label">Happy</span>
                            <img src="{{ url_for('static', filename='sam_images/v4.png') }}" alt="Happy">
                        </div>
                        <div class="sam-image-item" style="grid-column: 9;">
                            <span class="sam-image-label">Very Happy</span>
                            <img src="{{ url_for('static', filename='sam_images/v5.png') }}" alt="Very Happy">
                        </div>
                    </div>
    
                    <div class="sam-rating-grid">
                        <label style="grid-column: 1;"><input type="radio" name="valence" value="1"><span>1</span></label>
                        <label style="grid-column: 2;"><input type="radio" name="valence" value="2"><span>2</span></label>
                        <label style="grid-column: 3;"><input type="radio" name="valence" value="3"><span>3</span></label>
                        <label style="grid-column: 4;"><input type="radio" name="valence" value="4"><span>4</span></label>
                        <label style="grid-column: 5;"><input type="radio" name="valence" value="5"><span>5</span></label>
                        <label style="grid-column: 6;"><input type="radio" name="valence" value="6"><span>6</span></label>
                        <label style="grid-column: 7;"><input type="radio" name="valence" value="7"><span>7</span></label>
                        <label style="grid-column: 8;"><input type="radio" name="valence" value="8"><span>8</span></label>
                        <label style="grid-column: 9;"><input type="radio" name="valence" value="9"><span>9</span></label>
                    </div>
                </fieldset>
            </div>

            <div id="arousal-page" style="display: none;">
                <form id="sam-form" class="text-center"> 
                    <fieldset class="sam-question">
                        <legend class="question-title fw-bold mb-3">Which picture best describes your energy level?</legend>
                        <p class="lead mb-4">Please select the point on the scale that best matches your energy.</p>
                        
                        <div class="sam-image-grid">
                            <div class="sam-image-item" style="grid-column: 1;">
                                <span class="sam-image-label">Very Calm</span>
                                <img src="{{ url_for('static', filename='sam_images/a1.png') }}" alt="Very Calm">
                            </div>
                            <div class="sam-image-item" style="grid-column: 3;">
                                <span class="sam-image-label">Calm</span>
                                <img src="{{ url_for('static', filename='sam_images/a2.png') }}" alt="Calm">
                            </div>
                            <div class="sam-image-item" style="grid-column: 5;">
                                <span class="sam-image-label">Neutral</span>
                                <img src="{{ url_for('static', filename='sam_images/a3.png') }}" alt="Neutral">
                            </div>
                            <div class="sam-image-item" style="grid-column: 7;">
                                <span class="sam-image-label">Excited</span>
                                <img src="{{ url_for('static', filename='sam_images/a4.png') }}" alt="Excited">
                            </div>
                            <div class="sam-image-item" style="grid-column: 9;">
                                <span class="sam-image-label">Very Excited</span>
                                <img src="{{ url_for('static', filename='sam_images/a5.png') }}" alt="Very Excited">
                            </div>
                        </div>
        
                        <div class="sam-rating-grid">
                            <label style="grid-column: 1;"><input type="radio" name="arousal" value="1"><span>1</span></label>
                            <label style="grid-column: 2;"><input type="radio" name="arousal" value="2"><span>2</span></label>
                            <label style="grid-column: 3;"><input type="radio" name="arousal" value="3"><span>3</span></label>
                            <label style="grid-column: 4;"><input type="radio" name="arousal" value="4"><span>4</span></label>
                            <label style="grid-column: 5;"><input type="radio" name="arousal" value="5"><span>5</span></label>
                            <label style="grid-column: 6;"><input type="radio" name="arousal" value="6"><span>6</span></label>
                            <label style="grid-column: 7;"><input type="radio" name="arousal" value="7"><span>7</span></label>
                            <label style="grid-column: 8;"><input type="radio" name="arousal" value="8"><span>8</span></label>
                            <label style="grid-column: 9;"><input type="radio" name="arousal" value="9"><span>9</span></label>
                        </div>
                    </fieldset>
        
                    <button type="submit" class="btn btn-valora-submit btn-lg rounded-pill fw-bold mt-5" style="display: inline-block;">
                        Get Recommendations
                    </button>
                </form>
            </div>
        
            <div id="calculating-mood-loading" style="display: none;">
                <h2 class="display-5 fw-bold my-4">Calculating your mood...</h2>
            </div>
        
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>